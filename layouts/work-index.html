{% extends 'site.html' %}

{% block main %}
	<nav class="project-nav">
		<div class="project-nav-filters">
			<a href="/work/" class="category-target {%- if discipline === 'all' %} active{% endif %}" data-category="all">All</a>
			<a href="/work/communication/" class="category-target {%- if discipline === 'communication' %} active{% endif %}" data-category="communication">Communication</a>
			<a href="/work/physical/" class="category-target {%- if discipline === 'physical' %} active{% endif %}" data-category="physical">Physical</a>
			<a href="/work/information/" class="category-target {%- if discipline === 'information' %} active{% endif %}" data-category="information">Information</a>
			<a href="/work/interactive/" class="category-target {%- if discipline === 'interactive' %} active{% endif %}" data-category="interactive">Interactive &amp; Motion</a>
		</div>
	</nav>
	<div class="project-category-intro">
		<img class="project-category-intro-desktop" src="/assets/images/{{ discipline }}.svg" />
		<img class="project-category-intro-tablet" src="/assets/images/{{ discipline }}-tablet.svg" />
		<img class="project-category-intro-mobile" src="/assets/images/{{ discipline }}-mobile.svg" />
	</div>
	<div class="project-nav">
		<div class="project-nav-categories">
			<div class="project-nav-category">All Work</div>
			{% for category in categories | filter('discipline', discipline) %}
				<div class="project-nav-category">{{ category.label }}</div>
			{% endfor %}
		</div>
		<div class="project-nav-view">
			<div class="student-nav-view-search">
				<input type="text" id="student-nav-view-search-input" class="student-nav-view-search-input" placeholder="Search" />
				<label for="student-nav-view-search-input"><i class="student-nav-view-search-icon i-search"></i></label>
			</div>
		</div>
	</div>
	<div class="project-list">
	</div>
	<div class="project-grid" data-columns>
	{% set listing = projects | shuffle %}
	{% if discipline !== 'all' %}
		{% set listing = listing | filterByDiscipline(discipline) %}
	{% endif %}
	{% for project in listing %}
	{% if project.thumbnail %}
		<div class="project-preview">
			<a href="{{ project.href }}" class="project-preview-image">
				<svg class="project-preview-image-placeholder" viewBox="0 0 {{ project.thumbnail.width }} {{ project.thumbnail.height }}" preserveAspectRatio="xMinYMin" width="{{ project.thumbnail.width }}">
					<rect x="0" y="0" width="100%" height="100%"></rect>
				</svg>
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP4z8BQDwAEgAF/posBPQAAAABJRU5ErkJggg==" data-src="{{ project.thumbnail | asset_url({ width: 400 }) }}" />
			</a>
			<div class="project-preview-details">
				<a href="{{ project.href }}" class="project-preview-title">{{ project.title }}</a>
				<a href="{{ project.owner.href }}" class="project-preview-student">{{ project.owner.name }}</a>
			</div>
		</div>
	{% endif %}
	{% endfor %}
	</div>
{% endblock %}
